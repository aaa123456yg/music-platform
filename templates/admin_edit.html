<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <title>編輯資料</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <style>
        body { background-color: #121212; color: white; display: flex; justify-content: center; padding-top: 50px; }
        .edit-card { background-color: #181818; padding: 40px; border-radius: 10px; width: 500px; box-shadow: 0 4px 15px rgba(0,0,0,0.5); }
        .form-group { margin-bottom: 20px; }
        label { display: block; margin-bottom: 8px; font-weight: bold; }
        input[type="text"], textarea, input[type="date"] { 
            width: 100%; padding: 10px; border-radius: 5px; border: 1px solid #333; 
            background-color: #2a2a2a; color: white; box-sizing: border-box;
        }
        .btn-save { 
            width: 100%; padding: 12px; background-color: #1ed760; border: none; 
            border-radius: 25px; color: black; font-weight: bold; font-size: 1rem; cursor: pointer; 
        }
        .btn-cancel {
            display: block; text-align: center; margin-top: 15px; color: #b3b3b3; text-decoration: none;
        }
    </style>
</head>
<body>

<div class="edit-card">
    <h2 style="text-align: center; margin-bottom: 30px;">
        {% if type == 'artist' %}編輯藝人資料{% elif type == 'album' %}編輯專輯資料{% else %}編輯歌曲資料{% endif %}
    </h2>

    <form method="POST">

        {% if type == 'user' %}
        <div class="form-group">
            <label>Email (唯讀)</label>
            <input type="text" value="{{ item.email }}" disabled style="opacity: 0.6; cursor: not-allowed;">
        </div>
        <div class="form-group">
            <label>暱稱 (唯讀)</label>
            <input type="text" value="{{ item.display_name }}" disabled style="opacity: 0.6; cursor: not-allowed;">
        </div>
        
        <div class="form-group">
            <label style="color: #1ed760;">會員等級設定</label>
            <select name="subscription_type" style="width: 100%; padding: 10px; border-radius: 5px; background-color: #2a2a2a; color: white; border: 1px solid #333;">
                <option value="Free" {% if item.subscription_type == 'Free' %}selected{% endif %}>Free (免費會員)</option>
                <option value="Premium" {% if item.subscription_type == 'Premium' %}selected{% endif %}>Premium (付費會員)</option>
            </select>
        </div>
        {% endif %}
        {% if type == 'artist' %}
        <div class="form-group">
            <label>藝人名稱</label>
            <input type="text" name="name" value="{{ item.name }}" required>
        </div>
        <div class="form-group">
            <label>簡介 (Bio)</label>
            <textarea name="bio" rows="4">{{ item.bio }}</textarea>
        </div>
        <div class="form-group">
            <label>圖片連結 (Image URL)</label>
            <input type="text" name="image_url" value="{{ item.artist_image_url }}">
        </div>
        {% endif %}

        {% if type == 'album' %}
        <div class="form-group">
            <label>專輯名稱</label>
            <input type="text" name="title" value="{{ item.title }}" required>
        </div>
        <div class="form-group">
            <label>發行日期</label>
            <input type="text" name="release_date" value="{{ item.release_date }}" placeholder="YYYY-MM-DD">
        </div>
        <div class="form-group">
            <label>封面圖片連結 (Cover URL)</label>
            <input type="text" name="cover_url" value="{{ item.cover_art_url }}">
        </div>
        {% endif %}

        {% if type == 'song' %}
        <div class="form-group">
            <label>歌曲名稱</label>
            <input type="text" name="title" value="{{ item.title }}" required>
        </div>
        <div class="form-group">
            <label>音檔連結 (Audio URL)</label>
            <input type="text" name="audio_url" value="{{ item.audio_file_url }}">
        </div>
        {% endif %}

        <button type="submit" class="btn-save">儲存變更</button>
        <a href="/admin/manage" class="btn-cancel">取消</a>
    </form>
</div>

</body>
</html>